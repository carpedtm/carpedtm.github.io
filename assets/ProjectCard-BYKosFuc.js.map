{"version":3,"file":"ProjectCard-BYKosFuc.js","sources":["../../src/components/ui/skeleton.tsx","../../src/components/ProjectCard.tsx"],"sourcesContent":["import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <div\n      className={cn(\"animate-pulse rounded-md bg-muted\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","import { Project } from '@/data/projects';\nimport { useState } from 'react';\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\ninterface ProjectCardProps {\n  project: Project;\n}\n\nconst ProjectCard = ({ project }: ProjectCardProps) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n\n  const handleVideoError = (e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n    console.error('Video error:', e);\n    setHasError(true);\n    setIsLoading(false);\n    const video = e.target as HTMLVideoElement;\n    console.error('Video error details:', {\n      error: video.error,\n      networkState: video.networkState,\n      readyState: video.readyState,\n      src: video.currentSrc\n    });\n  };\n\n  const handleVideoLoad = (e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n    console.log('Video loaded successfully');\n    setIsLoading(false);\n    const video = e.target as HTMLVideoElement;\n    video.play().catch(error => {\n      console.error('Error playing video:', error);\n    });\n  };\n\n  const handleImageLoad = () => {\n    setIsLoading(false);\n  };\n\n  const handleImageError = () => {\n    setHasError(true);\n    setIsLoading(false);\n  };\n\n  return (\n    <div className=\"block\">\n      <div className=\"relative overflow-hidden\">\n        <div className=\"absolute top-0 left-0 z-10\">\n          <span className=\"bg-white/90 backdrop-blur-sm px-1 py-0.5 text-[10px] uppercase tracking-wider inline-block\">\n            {project.client}\n          </span>\n        </div>\n        {isLoading && (\n          <div className=\"absolute inset-0 flex items-center justify-center bg-gray-100\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-red\"></div>\n          </div>\n        )}\n        {hasError ? (\n          <div className=\"w-full aspect-[5/4] bg-gray-100 flex items-center justify-center\">\n            <span className=\"text-sm text-gray-500\">Unable to load media for {project.title}. Please try refreshing the page.</span>\n          </div>\n        ) : project.videoThumbnail ? (\n          <video\n            src={project.videoThumbnail}\n            className=\"w-full aspect-[5/4] object-cover transition-transform duration-500 group-hover:scale-105 rounded-sm\"\n            autoPlay\n            muted\n            loop\n            playsInline\n            preload=\"auto\"\n            onError={handleVideoError}\n            onLoadedData={handleVideoLoad}\n            title={`${project.title} - ${project.category} video preview by carpedtm, Las Vegas web developer and graphic artist`}\n          />\n        ) : project.video && Array.isArray(project.video) ? (\n          <video\n            src={project.video[0]}\n            className=\"w-full aspect-[5/4] object-cover transition-transform duration-500 group-hover:scale-105 rounded-sm\"\n            autoPlay\n            muted\n            loop\n            playsInline\n            preload=\"auto\"\n            onError={handleVideoError}\n            onLoadedData={handleVideoLoad}\n            title={`${project.title} - ${project.category} video preview by carpedtm, Las Vegas web developer and graphic artist`}\n          />\n        ) : project.video && typeof project.video === 'string' ? (\n          <video\n            src={project.video}\n            className=\"w-full aspect-[5/4] object-cover transition-transform duration-500 group-hover:scale-105 rounded-sm\"\n            autoPlay\n            muted\n            loop\n            playsInline\n            preload=\"auto\"\n            onError={handleVideoError}\n            onLoadedData={handleVideoLoad}\n            title={`${project.title} - ${project.category} video preview by carpedtm, Las Vegas web developer and graphic artist`}\n          />\n        ) : (\n          <img \n            src={project.image}\n            alt={`${project.title} - ${project.category} project preview by carpedtm, Las Vegas web developer and graphic artist`}\n            className=\"w-full aspect-[5/4] object-cover transition-transform duration-500 group-hover:scale-105 rounded-sm\"\n            loading=\"lazy\"\n            onLoad={handleImageLoad}\n            onError={handleImageError}\n          />\n        )}\n\n        {/* Loading Skeleton */}\n        {!project.image && !project.video && !project.videoThumbnail && !hasError && (\n          <div className=\"w-full aspect-[5/4]\">\n            <Skeleton className=\"w-full h-full rounded-sm\" />\n          </div>\n        )}\n      </div>\n      <div className=\"pt-3 text-left\">\n        <h3 \n          className=\"text-xs font-light tracking-tight\"\n          dangerouslySetInnerHTML={{ __html: project.title }}\n        />\n        <p className=\"text-[10px] text-muted-foreground\">{project.date}</p>\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectCard;\n\n"],"names":["Skeleton","className","props","jsx","cn","ProjectCard","project","isLoading","setIsLoading","useState","hasError","setHasError","handleVideoError","e","console","error","video","target","networkState","readyState","src","currentSrc","handleVideoLoad","log","play","catch","jsxs","children","client","title","videoThumbnail","autoPlay","muted","loop","playsInline","preload","onError","onLoadedData","category","Array","isArray","image","alt","loading","onLoad","dangerouslySetInnerHTML","__html","date"],"mappings":"8HAEA,SAASA,GAASC,UAChBA,KACGC,IAGD,OAAAC,EAAAA,IAAC,MAAA,CACCF,UAAWG,EAAG,oCAAqCH,MAC/CC,GAGV,CCJA,MAAMG,EAAc,EAAGC,cACrB,MAAOC,EAAWC,GAAgBC,YAAS,IACpCC,EAAUC,GAAeF,YAAS,GAEnCG,EAAoBC,IAChBC,QAAAC,MAAM,eAAgBF,GAC9BF,GAAY,GACZH,GAAa,GACb,MAAMQ,EAAQH,EAAEI,OAChBH,QAAQC,MAAM,uBAAwB,CACpCA,MAAOC,EAAMD,MACbG,aAAcF,EAAME,aACpBC,WAAYH,EAAMG,WAClBC,IAAKJ,EAAMK,YACZ,EAGGC,EAAmBT,IACvBC,QAAQS,IAAI,6BACZf,GAAa,GACCK,EAAEI,OACVO,OAAOC,OAAeV,IAClBD,QAAAC,MAAM,uBAAwBA,EAAK,GAC5C,EAaD,OAAAW,EAAAA,KAAC,MAAI,CAAAzB,UAAU,QACb0B,SAAA,CAACD,EAAAA,KAAA,MAAA,CAAIzB,UAAU,2BACb0B,SAAA,CAACxB,EAAAA,IAAA,MAAA,CAAIF,UAAU,6BACb0B,SAAAxB,EAAAA,IAAC,QAAKF,UAAU,6FACb0B,SAAQrB,EAAAsB,WAGZrB,SACE,MAAI,CAAAN,UAAU,gEACb0B,SAACxB,EAAAA,IAAA,MAAA,CAAIF,UAAU,8DAGlBS,QACE,MAAI,CAAAT,UAAU,mEACb0B,SAACD,EAAAA,KAAA,OAAA,CAAKzB,UAAU,wBAAwB0B,SAAA,CAAA,4BAA0BrB,EAAQuB,MAAM,yCAEhFvB,EAAQwB,eACV3B,EAAAA,IAAC,QAAA,CACCiB,IAAKd,EAAQwB,eACb7B,UAAU,sGACV8B,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,aAAW,EACXC,QAAQ,OACRC,QAASxB,EACTyB,aAAcf,EACdO,MAAO,GAAGvB,EAAQuB,WAAWvB,EAAQgC,mFAErChC,EAAQU,OAASuB,MAAMC,QAAQlC,EAAQU,OACzCb,EAAAA,IAAC,QAAA,CACCiB,IAAKd,EAAQU,MAAM,GACnBf,UAAU,sGACV8B,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,aAAW,EACXC,QAAQ,OACRC,QAASxB,EACTyB,aAAcf,EACdO,MAAO,GAAGvB,EAAQuB,WAAWvB,EAAQgC,mFAErChC,EAAQU,OAAkC,iBAAlBV,EAAQU,MAClCb,EAAAA,IAAC,QAAA,CACCiB,IAAKd,EAAQU,MACbf,UAAU,sGACV8B,UAAQ,EACRC,OAAK,EACLC,MAAI,EACJC,aAAW,EACXC,QAAQ,OACRC,QAASxB,EACTyB,aAAcf,EACdO,MAAO,GAAGvB,EAAQuB,WAAWvB,EAAQgC,mFAGvCnC,EAAAA,IAAC,MAAA,CACCiB,IAAKd,EAAQmC,MACbC,IAAK,GAAGpC,EAAQuB,WAAWvB,EAAQgC,mFACnCrC,UAAU,sGACV0C,QAAQ,OACRC,OAvEc,KACtBpC,GAAa,EAAK,EAuEV4B,QApEe,KACvBzB,GAAY,GACZH,GAAa,EAAK,KAuEZF,EAAQmC,QAAUnC,EAAQU,QAAUV,EAAQwB,iBAAmBpB,GAC/DP,EAAAA,IAAC,OAAIF,UAAU,sBACb0B,eAAC3B,EAAS,CAAAC,UAAU,kCAI1ByB,EAAAA,KAAC,MAAI,CAAAzB,UAAU,iBACb0B,SAAA,CAAAxB,EAAAA,IAAC,KAAA,CACCF,UAAU,oCACV4C,wBAAyB,CAAEC,OAAQxC,EAAQuB,SAE5C1B,EAAAA,IAAA,IAAA,CAAEF,UAAU,oCAAqC0B,WAAQoB,YAE9D"}