{"version":3,"file":"Project-BPoMIFSN.js","sources":["../../src/pages/Project.tsx"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { ArrowLeft, X, ChevronLeft, ChevronRight, Play } from 'lucide-react';\nimport { projects } from '@/data/projects';\nimport { motion } from 'framer-motion';\nimport Lightbox from '@/components/Lightbox';\nimport { Button } from '@/components/ui/button';\n\nconst Project = () => {\n  const { id } = useParams<{ id: string }>();\n  const project = projects.find(p => p.id === id);\n  const [isLightboxOpen, setIsLightboxOpen] = useState(false);\n  const [selectedMediaIndex, setSelectedMediaIndex] = useState(0);\n  const [galleryMedia, setGalleryMedia] = useState<Array<{ url: string; type: 'image' | 'video'; title?: string }>>([]);\n  const [lightboxMedia, setLightboxMedia] = useState<Array<{ url: string; type: 'image' | 'video'; title?: string }>>([]);\n  const [loadedImages, setLoadedImages] = useState<Set<number>>(new Set());\n\n  useEffect(() => {\n    if (project) {\n      const mediaList: Array<{ url: string; type: 'image' | 'video'; title?: string }> = [];\n      \n      // Add images from the images array\n      if (project.images) {\n        project.images.forEach(image => {\n          mediaList.push({\n            url: image,\n            type: 'image',\n          });\n        });\n      }\n\n      // Add videos if they exist\n      if (project.video) {\n        if (Array.isArray(project.video)) {\n          project.video.forEach(videoUrl => {\n            if (typeof videoUrl === 'string') {\n              mediaList.push({\n                url: videoUrl,\n                type: 'video',\n              });\n            }\n          });\n        } else if (typeof project.video === 'string') {\n          mediaList.push({\n            url: project.video,\n            type: 'video',\n          });\n        }\n      }\n\n      setGalleryMedia(mediaList);\n      setLightboxMedia(mediaList);\n      setLoadedImages(new Set());\n    }\n  }, [project]);\n\n  const handleImageLoad = (index: number) => {\n    setLoadedImages(prev => new Set([...prev, index]));\n  };\n\n  const handleVideoLoad = (e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n    const video = e.target as HTMLVideoElement;\n    video.play().catch(error => {\n      console.error('Error playing video:', error);\n    });\n  };\n\n  const handleVideoError = (e: React.SyntheticEvent<HTMLVideoElement, Event>) => {\n    console.error('Video error:', e);\n    const video = e.target as HTMLVideoElement;\n    console.error('Video error details:', {\n      error: video.error,\n      networkState: video.networkState,\n      readyState: video.readyState,\n      src: video.currentSrc\n    });\n  };\n\n  const openLightbox = (galleryIndex: number) => {\n    setSelectedMediaIndex(galleryIndex);\n    setIsLightboxOpen(true);\n  };\n\n  const closeLightbox = () => {\n    setIsLightboxOpen(false);\n  };\n\n  if (!project) {\n    return (\n      <div className=\"container mx-auto px-4 md:px-8 pt-12 md:pt-20\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"max-w-3xl mb-8\">\n            <h1 className=\"text-4xl md:text-5xl font-light tracking-tight\">\n              Project Not Found\n            </h1>\n            <p className=\"text-base md:text-lg tracking-tight leading-relaxed text-muted-foreground max-w-md mt-6\">\n              The project you're looking for doesn't exist or has been moved.\n            </p>\n          </div>\n\n          <div className=\"flex justify-start mb-8 overflow-x-auto md:overflow-visible border-t border-b border-border py-4\">\n            <div className=\"flex space-x-8 mx-auto md:mx-0\">\n              <span className=\"text-sm uppercase tracking-widest\">Navigation</span>\n            </div>\n          </div>\n\n          <div className=\"grid grid-cols-2 border-t border-l border-border\">\n            <div className=\"col-span-2 border-r border-b border-border p-6 md:p-8\">\n              <div className=\"flex flex-col space-y-6\">\n                <p className=\"text-base tracking-tight leading-relaxed text-muted-foreground\">\n                  You can return to the work page to browse available projects.\n                </p>\n                <Button \n                  className=\"group relative bg-transparent border border-foreground text-foreground px-6 py-3 h-auto rounded-none text-xs tracking-wider w-fit overflow-hidden focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:outline-none hover:bg-transparent hover:border-foreground\"\n                  asChild\n                >\n                  <Link to=\"/work\">\n                    <span className=\"relative z-10 transition-colors duration-300 group-hover:text-background\">Back to Work</span>\n                    <span className=\"absolute inset-0 w-0 bg-foreground transition-all duration-300 group-hover:w-full\"></span>\n                  </Link>\n                </Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0 }}\n      animate={{ opacity: 1 }}\n      transition={{ duration: 0.3 }}\n      className=\"container mx-auto px-4 md:px-8 pt-4 md:pt-8\"\n    >\n      <div className=\"max-w-6xl mx-auto\">\n        {/* Project Header */}\n        <div className=\"mb-12 md:mb-16\">\n          <Link \n            to=\"/work\" \n            state={{ fromProject: true }}\n            className=\"inline-flex items-center text-sm text-muted-foreground hover:text-foreground transition-colors duration-300 mb-6\"\n          >\n            <ArrowLeft size={16} className=\"mr-2\" />\n            All Work\n          </Link>\n          <div>\n            <h1 \n              className=\"text-3xl md:text-4xl lg:text-5xl font-light tracking-tight mb-3 md:mb-4 leading-tight\"\n              dangerouslySetInnerHTML={{ __html: project.title }}\n            />\n            <div className=\"flex flex-wrap gap-3 md:gap-4 text-sm text-muted-foreground\">\n              <span className=\"uppercase tracking-wider\">{project.category}</span>\n              <span>â€¢</span>\n              <span>{project.date}</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Project Content and Tags */}\n        <div className=\"grid grid-cols-1 md:grid-cols-12 gap-12 md:gap-16 mb-8 md:mb-12\">\n          <div className=\"md:col-span-8\">\n            <h2 className=\"text-xl font-light mb-4 md:mb-6 tracking-wide\">About the Project</h2>\n            <p \n              className=\"text-muted-foreground leading-relaxed text-lg\"\n              dangerouslySetInnerHTML={{ __html: project.content }}\n            />\n          </div>\n          <div className=\"md:col-span-4\">\n            <h2 className=\"text-xl font-light mb-4 md:mb-6 tracking-wide\">Tags</h2>\n            <ul className=\"flex flex-wrap gap-2 md:gap-3\">\n              {project.tags?.map((tag, index) => (\n                <li \n                  key={index} \n                  className=\"px-3 md:px-4 py-1.5 md:py-2 border border-foreground/20 rounded-full text-sm tracking-wider hover:border-foreground/40 transition-colors duration-300\"\n                >\n                  {tag}\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n\n        {/* Project Images Grid */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6\">\n          {galleryMedia.map((media, index) => (\n            <div\n              key={index}\n              className={`relative cursor-pointer group ${galleryMedia.length === 1 ? '' : 'aspect-video'}`}\n              onClick={() => openLightbox(index)}\n            >\n              {!loadedImages.has(index) && (\n                <div className=\"absolute inset-0 bg-muted animate-pulse rounded-lg z-10\" />\n              )}\n              {media.type === 'video' ? (\n                <>\n                  <video\n                    src={media.url}\n                    className=\"w-full h-full object-cover rounded-lg\"\n                    controls={false}\n                    muted\n                    loop\n                    playsInline\n                    onLoadedData={() => handleImageLoad(index)}\n                    onPlay={handleVideoLoad}\n                    onError={handleVideoError}\n                  />\n                  <div className=\"absolute inset-0 flex items-center justify-center bg-black/10 group-hover:bg-black/20 transition-colors duration-300\">\n                    <Play className=\"w-12 h-12 text-white stroke-[1.5] group-hover:scale-110 transition-transform duration-300\" />\n                  </div>\n                </>\n              ) : (\n                <img\n                  src={media.url}\n                  alt={`${project.title} - Image ${index + 1}`}\n                  className={`w-full h-full object-cover rounded-lg ${!loadedImages.has(index) ? 'opacity-0' : 'opacity-100'} transition-opacity duration-300`}\n                  onLoad={() => handleImageLoad(index)}\n                />\n              )}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      {/* Lightbox */}\n      <Lightbox\n        media={lightboxMedia}\n        isOpen={isLightboxOpen}\n        onClose={closeLightbox}\n        initialIndex={selectedMediaIndex}\n      />\n    </motion.div>\n  );\n};\n\nexport default Project; "],"names":["Project","id","useParams","project","projects","find","p","isLightboxOpen","setIsLightboxOpen","useState","selectedMediaIndex","setSelectedMediaIndex","galleryMedia","setGalleryMedia","lightboxMedia","setLightboxMedia","loadedImages","setLoadedImages","Set","useEffect","mediaList","images","forEach","image","push","url","type","video","Array","isArray","videoUrl","handleImageLoad","index","prev","handleVideoLoad","e","target","play","catch","error","console","handleVideoError","networkState","readyState","src","currentSrc","jsxs","motion","div","initial","opacity","animate","transition","duration","className","children","Link","to","state","fromProject","jsx","ArrowLeft","size","dangerouslySetInnerHTML","__html","title","category","date","content","tags","map","tag","media","length","onClick","has","Fragment","controls","muted","loop","playsInline","onLoadedData","onPlay","onError","Play","alt","onLoad","Lightbox","isOpen","onClose","initialIndex","Button","asChild"],"mappings":"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"}